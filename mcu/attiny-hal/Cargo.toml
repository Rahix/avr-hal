[package]
name = "attiny-hal"
version = "0.4.0"

authors = ["Rahix <rahix@rahix.de>"]
edition = "2021"
description = "HAL crate for ATtiny-series AVR microcontrollers"
license = "MIT OR Apache-2.0"
repository = "https://github.com/rahix/avr-hal"
keywords = ["avr", "arduino"]
categories = ["no-std", "embedded", "hardware-support"]

[features]
rt = ["avr-device/rt"]

# MCU-specific targets. 
attiny84 = ["_mcu-attiny84"]
attiny85 = ["_mcu-attiny85"]
attiny88 = ["_mcu-attiny88"]
attiny167 = ["_mcu-attiny167"]
attiny2313 = ["_mcu-attiny2313"]

critical-section-impl = ["avr-device/critical-section-impl"]

default = []

docsrs = ["attiny84", "attiny85", "attiny88", "attiny167", "attiny2313"]

# When using this crate from another lib crate, you can use this feature to turn suppress the chip selection error in favor of your own error
disable-device-selection-error = ["_mcu-selected"]

# MCU-specific implementation features
_mcu-attiny84 = ["_mcu-selected", "_peripheral-simple-pwm", "avr-device/attiny84"]
_mcu-attiny85 = ["_mcu-selected", "_peripheral-adc", "_peripheral-simple-pwm", "avr-device/attiny85"]
_mcu-attiny88 = ["_mcu-selected", "_peripheral-adc", "_peripheral-spi", "_peripheral-simple-pwm", "avr-device/attiny88"]
_mcu-attiny167 = ["_mcu-selected", "_peripheral-adc", "_peripheral-spi", "avr-device/attiny167"]
_mcu-attiny2313 = ["_mcu-selected", "avr-device/attiny2313"]

_mcu-selected = []
_peripheral-adc = []
_peripheral-spi = []
_peripheral-simple-pwm = []


[dependencies]
avr-hal-generic = { path = "../../avr-hal-generic/" }

[dependencies.avr-device]
version = "0.5.4"
features = ["device-selected"]

[package.metadata.docs.rs]
features = ["docsrs"]
